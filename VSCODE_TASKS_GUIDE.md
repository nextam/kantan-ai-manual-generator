# VS Code タスク使用ガイド

このプロジェクトでは、Manual GeneratorとOperation Analysis Systemを効率的に管理するためのVS Codeタスクが設定されています。

## 📋 利用可能なタスク

### サーバー管理タスク

| タスク名 | 説明 | ポート |
|---------|------|--------|
| **すべてのローカルサーバーを停止** | すべてのローカルサーバーを停止 | - |
| **マニュアル生成サーバー起動 (ポート5000)** | マニュアル生成サーバーを起動 | 5000 |
| **作業分析サーバー起動 (ポート5001)** | 作業分析サーバーを起動 | 5001 |
| **両方のサーバーを起動 (マニュアル生成 + 作業分析)** | 両方のサーバーを一括起動 | 5000, 5001 |

### ユーティリティタスク

| タスク名 | 説明 |
|---------|------|
| **サーバー状態確認** | サーバーの動作状態を確認 |
| **マニュアル生成をブラウザで開く** | マニュアル生成をブラウザで開く |
| **作業分析をブラウザで開く** | 作業分析をブラウザで開く |

### OASタスク

| タスク名 | 説明 |
|---------|------|
| **OAS: システム情報表示** | OS、CPU、メモリ、Python情報を表示 |
| **OAS: Pythonパッケージ一覧** | インストール済みパッケージを表示 |
| **OAS: 依存関係インストール** | requirements.txtから依存関係をインストール |
| **OAS: サンプル動画生成** | テスト用のサンプル動画を生成 |
| **OAS: Streamlitアプリ実行 (ポート8501)** | Streamlitアプリを起動 |
| **OAS: SQLiteプロジェクト一覧** | データベースのプロジェクト一覧を表示 |
| **OAS: アノテーター動作テスト** | 自動アノテーション機能のテスト |

## 🚀 使用方法

### 1. タスクの実行

1. **Ctrl + Shift + P** でコマンドパレットを開く
2. **"Tasks: Run Task"** を選択
3. 実行したいタスクを選択

### 2. おすすめワークフロー

#### 初回起動時
```
1. "両方のサーバーを起動 (マニュアル生成 + 作業分析)" を実行
2. "サーバー状態確認" で動作確認
3. ブラウザオープンタスクでアクセス
```

#### 開発中
```
- サーバー再起動: "すべてのローカルサーバーを停止" → "両方のサーバーを起動 (マニュアル生成 + 作業分析)"
- 個別サーバー管理: 各サーバータスクを個別実行
```

## 🌐 アクセスURL

- **Manual Generator**: http://localhost:5000
- **Operation Analysis**: http://localhost:5001

## 🛠️ トラブルシューティング

### ポート競合エラー
```
1. "すべてのローカルサーバーを停止" を実行
2. 数秒待機後、再度サーバーを起動
```

### サーバーが起動しない
```
1. "サーバー状態確認" で状態確認
2. ターミナルでエラーメッセージを確認
3. 依存関係の確認: requirements.txt
```

## 📁 ファイル構成

```
kantan-ai-manual-generator/
├── .vscode/
│   └── tasks.json                    # VS Codeタスク設定
├── start_manual_generator_5000.bat   # Manual Generatorバッチファイル
├── start_operation_analysis_5001.bat # Operation Analysisバッチファイル
├── manual_generator/                 # Manual Generatorアプリ
└── operation_analysis/               # Operation Analysisアプリ
```

## 💡 Tips

- **バックグラウンド実行**: サーバータスクはバックグラウンドで実行されるため、複数のタスクを同時実行可能
- **専用パネル**: 各サーバーは専用のターミナルパネルで実行され、ログを個別に確認可能
- **ワンクリック起動**: "両方のサーバーを起動 (マニュアル生成 + 作業分析)"でポート競合を回避しながら両方のサーバーを自動起動
